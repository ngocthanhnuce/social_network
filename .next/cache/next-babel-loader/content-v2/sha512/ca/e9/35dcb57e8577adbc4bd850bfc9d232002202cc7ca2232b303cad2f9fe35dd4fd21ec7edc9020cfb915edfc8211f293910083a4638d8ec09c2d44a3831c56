{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport baseUrl from \"./baseUrl\";\nimport catchErrors from \"./catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nconst Axios = axios.create({\n  baseURL: `${baseUrl}/api/profile`,\n  headers: {\n    Authorization: cookie.get(\"token\")\n  }\n});\nexport const followUser = async (userToFollowId, setUserFollowStats) => {\n  try {\n    await Axios.post(`/follow/${userToFollowId}`);\n    setUserFollowStats(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      following: [...prev.following, {\n        user: userToFollowId\n      }]\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const unfollowUser = async (userToUnfollowId, setUserFollowStats) => {\n  try {\n    await Axios.put(`/unfollow/${userToUnfollowId}`);\n    setUserFollowStats(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      following: prev.following.filter(following => following.user !== userToUnfollowId)\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const profileUpdate = async (profile, setLoading, setError, profilePicUrl) => {\n  try {\n    const {\n      bio,\n      work,\n      relationship,\n      address,\n      education,\n      birthday,\n      facebook,\n      youtube,\n      twitter,\n      instagram\n    } = profile;\n    await Axios.post(`/update`, {\n      bio,\n      work,\n      relationship,\n      address,\n      education,\n      birthday,\n      facebook,\n      youtube,\n      twitter,\n      instagram,\n      profilePicUrl\n    });\n    setLoading(false);\n    Router.reload();\n  } catch (error) {\n    setError(catchErrors(error));\n    setLoading(false);\n  }\n};\nexport const updateAvatar = async (setLoading, setError, profilePicUrl) => {\n  try {\n    await Axios.put(`/updatepic`, {\n      profilePicUrl\n    });\n    setLoading(false);\n    Router.reload();\n  } catch (error) {\n    setError(catchErrors(error));\n    setLoading(false);\n  }\n};\nexport const passwordUpdate = async (setSuccess, userPasswords) => {\n  const {\n    currentPassword,\n    newPassword\n  } = userPasswords;\n\n  try {\n    await Axios.post(`/settings/password`, {\n      currentPassword,\n      newPassword\n    });\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\nexport const toggleMessagePopup = async (popupSetting, setPopupSetting, setSuccess) => {\n  try {\n    await Axios.post(`/settings/messagePopup`);\n    setPopupSetting(!popupSetting);\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};","map":{"version":3,"sources":["C:/Users/Admin/Documents/social/social_network/utils/profileActions.js"],"names":["axios","baseUrl","catchErrors","cookie","Router","Axios","create","baseURL","headers","Authorization","get","followUser","userToFollowId","setUserFollowStats","post","prev","following","user","error","alert","unfollowUser","userToUnfollowId","put","filter","profileUpdate","profile","setLoading","setError","profilePicUrl","bio","work","relationship","address","education","birthday","facebook","youtube","twitter","instagram","reload","updateAvatar","passwordUpdate","setSuccess","userPasswords","currentPassword","newPassword","toggleMessagePopup","popupSetting","setPopupSetting"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport baseUrl from \"./baseUrl\";\nimport catchErrors from \"./catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\n\nconst Axios = axios.create({\n  baseURL: `${baseUrl}/api/profile`,\n  headers: { Authorization: cookie.get(\"token\") },\n});\n\nexport const followUser = async (userToFollowId, setUserFollowStats) => {\n  try {\n    await Axios.post(`/follow/${userToFollowId}`);\n\n    setUserFollowStats((prev) => ({\n      ...prev,\n      following: [...prev.following, { user: userToFollowId }],\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\n\nexport const unfollowUser = async (userToUnfollowId, setUserFollowStats) => {\n  try {\n    await Axios.put(`/unfollow/${userToUnfollowId}`);\n\n    setUserFollowStats((prev) => ({\n      ...prev,\n      following: prev.following.filter(\n        (following) => following.user !== userToUnfollowId\n      ),\n    }));\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\n\nexport const profileUpdate = async (\n  profile,\n  setLoading,\n  setError,\n  profilePicUrl\n) => {\n  try {\n    const {\n      bio,\n      work,\n      relationship,\n      address,\n      education,\n      birthday,\n      facebook,\n      youtube,\n      twitter,\n      instagram,\n    } = profile;\n\n    await Axios.post(`/update`, {\n      bio,\n      work,\n      relationship,\n      address,\n      education,\n      birthday,\n      facebook,\n      youtube,\n      twitter,\n      instagram,\n      profilePicUrl,\n    });\n\n    setLoading(false);\n    Router.reload();\n  } catch (error) {\n    setError(catchErrors(error));\n    setLoading(false);\n  }\n};\n\nexport const updateAvatar = async (setLoading, setError, profilePicUrl) => {\n  try {\n    await Axios.put(`/updatepic`, {\n      profilePicUrl,\n    });\n    setLoading(false);\n    Router.reload();\n  } catch (error) {\n    setError(catchErrors(error));\n    setLoading(false);\n  }\n};\n\nexport const passwordUpdate = async (setSuccess, userPasswords) => {\n  const { currentPassword, newPassword } = userPasswords;\n  try {\n    await Axios.post(`/settings/password`, { currentPassword, newPassword });\n\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\n\nexport const toggleMessagePopup = async (\n  popupSetting,\n  setPopupSetting,\n  setSuccess\n) => {\n  try {\n    await Axios.post(`/settings/messagePopup`);\n\n    setPopupSetting(!popupSetting);\n    setSuccess(true);\n  } catch (error) {\n    alert(catchErrors(error));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}