{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Admin/Documents/social/social_network/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Admin/Documents/social/social_network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\social\\\\social_network\\\\components\\\\Post\\\\LikesList.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { List, Popup, Image } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport baseUrl from \"../../utils/baseUrl\";\nimport catchErrors from \"../../utils/catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nimport { LikesPlaceHolder } from \"../Layout/PlaceHolderGroup\";\n\nfunction LikesList(_ref) {\n  _s();\n\n  var _this = this;\n\n  var postId = _ref.postId,\n      trigger = _ref.trigger;\n\n  var _useState = useState([]),\n      likesList = _useState[0],\n      setLikesList = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var getLikesList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"\".concat(baseUrl, \"/api/posts/like/\").concat(postId), {\n                headers: {\n                  Authorization: cookie.get(\"token\")\n                }\n              });\n\n            case 4:\n              res = _context.sent;\n              setLikesList(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              alert(catchErrors(_context.t0));\n\n            case 11:\n              setLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function getLikesList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Popup, {\n    on: \"click\",\n    onClose: function onClose() {\n      return setLikesList([]);\n    },\n    onOpen: getLikesList,\n    popperDependencies: [likesList],\n    trigger: trigger,\n    wide: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(LikesPlaceHolder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }) : __jsx(React.Fragment, null, likesList.length > 0 && __jsx(\"div\", {\n    style: {\n      overflow: \"auto\",\n      maxHeight: \"15rem\",\n      height: \"15rem\",\n      minWidth: \"210px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, __jsx(List, {\n    selection: true,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, likesList.map(function (like) {\n    return __jsx(List.Item, {\n      key: like._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 19\n      }\n    }, __jsx(Image, {\n      avatar: true,\n      src: like.user.profilePicUrl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }), __jsx(List.Content, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, __jsx(List.Header, {\n      onClick: function onClick() {\n        return Router.push(\"/\".concat(like.user.username));\n      },\n      as: \"a\",\n      content: like.user.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 23\n      }\n    })));\n  })))));\n}\n\n_s(LikesList, \"1/NosE+up2SEkUSZSrzC4XZbW18=\");\n\n_c = LikesList;\nexport default LikesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"LikesList\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/social/social_network/components/Post/LikesList.js"],"names":["React","useState","List","Popup","Image","axios","baseUrl","catchErrors","cookie","Router","LikesPlaceHolder","LikesList","postId","trigger","likesList","setLikesList","loading","setLoading","getLikesList","get","headers","Authorization","res","data","alert","length","overflow","maxHeight","height","minWidth","map","like","_id","user","profilePicUrl","push","username","name"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { List, Popup, Image } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport baseUrl from \"../../utils/baseUrl\";\nimport catchErrors from \"../../utils/catchErrors\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nimport { LikesPlaceHolder } from \"../Layout/PlaceHolderGroup\";\n\nfunction LikesList({ postId, trigger }) {\n  const [likesList, setLikesList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getLikesList = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${baseUrl}/api/posts/like/${postId}`, {\n        headers: { Authorization: cookie.get(\"token\") }\n      });\n      setLikesList(res.data);\n    } catch (error) {\n      alert(catchErrors(error));\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Popup\n      on=\"click\"\n      onClose={() => setLikesList([])}\n      onOpen={getLikesList}\n      popperDependencies={[likesList]}\n      trigger={trigger}\n      wide>\n      {loading ? (\n        <LikesPlaceHolder />\n      ) : (\n        <>\n          {likesList.length > 0 && (\n            <div\n              style={{\n                overflow: \"auto\",\n                maxHeight: \"15rem\",\n                height: \"15rem\",\n                minWidth: \"210px\"\n              }}>\n              <List selection size=\"large\">\n                {likesList.map(like => (\n                  <List.Item key={like._id}>\n                    <Image avatar src={like.user.profilePicUrl} />\n\n                    <List.Content>\n                      <List.Header\n                        onClick={() => Router.push(`/${like.user.username}`)}\n                        as=\"a\"\n                        content={like.user.name}\n                      />\n                    </List.Content>\n                  </List.Item>\n                ))}\n              </List>\n            </div>\n          )}\n        </>\n      )}\n    </Popup>\n  );\n}\n\nexport default LikesList;\n"]},"metadata":{},"sourceType":"module"}