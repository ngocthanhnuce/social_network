{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\social\\\\social_network\\\\components\\\\Profile\\\\Settings.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { List, Divider, Message, Checkbox, Form, Button } from \"semantic-ui-react\";\nimport { passwordUpdate, toggleMessagePopup } from \"../../utils/profileActions\";\n\nfunction Settings({\n  newMessagePopup\n}) {\n  const {\n    0: passwordFields,\n    1: showPasswordFields\n  } = useState(false);\n  const {\n    0: newMessageSettings,\n    1: showNewMessageSettings\n  } = useState(false);\n  const isFirstRun = useRef(true);\n  const {\n    0: popupSetting,\n    1: setPopupSetting\n  } = useState(newMessagePopup);\n  const {\n    0: success,\n    1: setSuccess\n  } = useState(false);\n  useEffect(() => {\n    success && setTimeout(() => setSuccess(false), 3000);\n  }, [success]);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n  }, [popupSetting]);\n  return __jsx(React.Fragment, null, success && __jsx(React.Fragment, null, __jsx(Message, {\n    success: true,\n    icon: \"check circle\",\n    header: \"Updated Successfully\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), __jsx(Divider, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), __jsx(List, {\n    size: \"large\",\n    animated: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, __jsx(List.Icon, {\n    name: \"user secret\",\n    size: \"large\",\n    verticalAlign: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), __jsx(List.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, __jsx(List.Header, {\n    onClick: () => showPasswordFields(!passwordFields),\n    as: \"a\",\n    content: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  })), passwordFields && __jsx(UpdatePassword, {\n    setSuccess: setSuccess,\n    showPasswordFields: showPasswordFields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  })), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(List.Icon, {\n    name: \"paper plane outline\",\n    size: \"large\",\n    verticalAlign: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), __jsx(List.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, __jsx(List.Header, {\n    onClick: () => showNewMessageSettings(!newMessageSettings),\n    as: \"a\",\n    content: \"C\\xE0i \\u0111\\u1EB7t th\\xF4ng b\\xE1o tin nh\\u1EAFn m\\u1EDBi?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"C\\xE0i \\u0111\\u1EB7t c\\u01B0a s\\u1ED5 c\\xF3 b\\u1EADt l\\xEAn khi c\\xF3 tin nh\\u1EAFn m\\u1EDBi hay kh\\xF4ng.\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), __jsx(Checkbox, {\n    checked: popupSetting,\n    toggle: true,\n    onChange: () => toggleMessagePopup(popupSetting, setPopupSetting, setSuccess),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })));\n}\n\nconst UpdatePassword = ({\n  setSuccess,\n  showPasswordFields\n}) => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: errorMsg,\n    1: setError\n  } = useState(null);\n  const {\n    0: userPasswords,\n    1: setUserPasswords\n  } = useState({\n    currentPassword: \"\",\n    newPassword: \"\"\n  });\n  const {\n    0: confirmPass,\n    1: setConfirmPassword\n  } = useState({\n    confirmPassword: \"\"\n  });\n  const {\n    0: typed,\n    1: showTyped\n  } = useState({\n    field1: false,\n    field2: false\n  });\n  const {\n    field1,\n    field2\n  } = typed;\n  const {\n    currentPassword,\n    newPassword\n  } = userPasswords;\n  const {\n    confirmPassword\n  } = confirmPass;\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserPasswords(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: value\n    }));\n  };\n\n  const handleChangeConfirm = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setConfirmPassword(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: value\n    }));\n  };\n\n  useEffect(() => {\n    errorMsg && setTimeout(() => setError(null), 5000);\n  }, [errorMsg]);\n  return __jsx(React.Fragment, null, __jsx(Form, {\n    error: errorMsg !== null,\n    loading: loading,\n    onSubmit: async e => {\n      e.preventDefault();\n      setLoading(true);\n      await passwordUpdate(setSuccess, userPasswords);\n      setLoading(false);\n      showPasswordFields(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, __jsx(List.List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, __jsx(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Input, {\n    fluid: true,\n    icon: {\n      name: \"eye\",\n      circular: true,\n      link: true,\n      onClick: () => showTyped(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        field1: !field1\n      }))\n    },\n    type: field1 ? \"text\" : \"password\",\n    iconPosition: \"left\",\n    label: \"M\\u1EADt kh\\u1EA9u hi\\u1EC7n t\\u1EA1i\",\n    placeholder: \"Current password\",\n    name: \"currentPassword\",\n    onChange: handleChange,\n    value: currentPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Input, {\n    fluid: true,\n    icon: {\n      name: \"eye\",\n      circular: true,\n      link: true,\n      onClick: () => showTyped(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        field2: !field2\n      }))\n    },\n    type: field2 ? \"text\" : \"password\",\n    iconPosition: \"left\",\n    label: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n    placeholder: \"New password\",\n    name: \"newPassword\",\n    onChange: handleChange,\n    value: newPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Input, {\n    fluid: true,\n    icon: {\n      name: \"eye\",\n      circular: true,\n      link: true,\n      onClick: () => showTyped(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        field2: !field2\n      }))\n    },\n    type: field2 ? \"text\" : \"password\",\n    iconPosition: \"left\",\n    label: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",\n    placeholder: \"Confirm password\",\n    name: \"confirmPassword\",\n    onChange: handleChangeConfirm,\n    value: confirmPassword,\n    error: confirmPassword === newPassword ? false : {\n      content: \"Mật khẩu không trùng nhau\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), __jsx(Button, {\n    disabled: loading || currentPassword === \"\" || newPassword === \"\",\n    compact: true,\n    icon: \"configure\",\n    type: \"submit\",\n    color: \"teal\",\n    content: \"L\\u01B0u thay \\u0111\\u1ED5i\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }), __jsx(Button, {\n    disabled: loading,\n    compact: true,\n    icon: \"cancel\",\n    type: \"button\",\n    content: \"H\\u1EE7y\",\n    onClick: () => showPasswordFields(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }), __jsx(Message, {\n    icon: \"meh\",\n    error: true,\n    header: \"Oops!\",\n    content: errorMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  })))), __jsx(Divider, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Settings;","map":{"version":3,"sources":["C:/Users/Admin/Documents/social/social_network/components/Profile/Settings.js"],"names":["React","useState","useEffect","useRef","List","Divider","Message","Checkbox","Form","Button","passwordUpdate","toggleMessagePopup","Settings","newMessagePopup","passwordFields","showPasswordFields","newMessageSettings","showNewMessageSettings","isFirstRun","popupSetting","setPopupSetting","success","setSuccess","setTimeout","current","marginTop","UpdatePassword","loading","setLoading","errorMsg","setError","userPasswords","setUserPasswords","currentPassword","newPassword","confirmPass","setConfirmPassword","confirmPassword","typed","showTyped","field1","field2","handleChange","e","name","value","target","prev","handleChangeConfirm","preventDefault","circular","link","onClick","content"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  List,\n  Divider,\n  Message,\n  Checkbox,\n  Form,\n  Button,\n} from \"semantic-ui-react\";\nimport { passwordUpdate, toggleMessagePopup } from \"../../utils/profileActions\";\n\nfunction Settings({ newMessagePopup }) {\n  const [passwordFields, showPasswordFields] = useState(false);\n\n  const [newMessageSettings, showNewMessageSettings] = useState(false);\n\n  const isFirstRun = useRef(true);\n  const [popupSetting, setPopupSetting] = useState(newMessagePopup);\n\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n    success && setTimeout(() => setSuccess(false), 3000);\n  }, [success]);\n\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n  }, [popupSetting]);\n\n  return (\n    <>\n      {success && (\n        <>\n          <Message success icon=\"check circle\" header=\"Updated Successfully\" />\n          <Divider hidden />\n        </>\n      )}\n\n      <List size=\"large\" animated>\n        <List.Item>\n          <List.Icon name=\"user secret\" size=\"large\" verticalAlign=\"middle\" />\n          <List.Content>\n            <List.Header\n              onClick={() => showPasswordFields(!passwordFields)}\n              as=\"a\"\n              content=\"Đổi mật khẩu\"\n            />\n          </List.Content>\n\n          {passwordFields && (\n            <UpdatePassword\n              setSuccess={setSuccess}\n              showPasswordFields={showPasswordFields}\n            />\n          )}\n        </List.Item>\n        <Divider />\n\n        <List.Item>\n          <List.Icon\n            name=\"paper plane outline\"\n            size=\"large\"\n            verticalAlign=\"middle\"\n          />\n\n          <List.Content>\n            <List.Header\n              onClick={() => showNewMessageSettings(!newMessageSettings)}\n              as=\"a\"\n              content=\"Cài đặt thông báo tin nhắn mới?\"\n            />\n          </List.Content>\n\n          <div style={{ marginTop: \"10px\" }}>\n            Cài đặt cưa sổ có bật lên khi có tin nhắn mới hay không.\n            <br />\n            <br />\n            <Checkbox\n              checked={popupSetting}\n              toggle\n              onChange={() =>\n                toggleMessagePopup(popupSetting, setPopupSetting, setSuccess)\n              }\n            />\n          </div>\n        </List.Item>\n\n        <Divider />\n      </List>\n    </>\n  );\n}\n\nconst UpdatePassword = ({ setSuccess, showPasswordFields }) => {\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setError] = useState(null);\n\n  const [userPasswords, setUserPasswords] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n  });\n  const [confirmPass, setConfirmPassword] = useState({ confirmPassword: \"\" });\n  const [typed, showTyped] = useState({\n    field1: false,\n    field2: false,\n  });\n\n  const { field1, field2 } = typed;\n\n  const { currentPassword, newPassword } = userPasswords;\n  const { confirmPassword } = confirmPass;\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserPasswords((prev) => ({ ...prev, [name]: value }));\n  };\n  const handleChangeConfirm = (e) => {\n    const { name, value } = e.target;\n    setConfirmPassword((prev) => ({ ...prev, [name]: value }));\n  };\n\n  useEffect(() => {\n    errorMsg && setTimeout(() => setError(null), 5000);\n  }, [errorMsg]);\n\n  return (\n    <>\n      <Form\n        error={errorMsg !== null}\n        loading={loading}\n        onSubmit={async (e) => {\n          e.preventDefault();\n          setLoading(true);\n\n          await passwordUpdate(setSuccess, userPasswords);\n          setLoading(false);\n\n          showPasswordFields(false);\n        }}\n      >\n        <List.List>\n          <List.Item>\n            <Form.Input\n              fluid\n              icon={{\n                name: \"eye\",\n                circular: true,\n                link: true,\n                onClick: () =>\n                  showTyped((prev) => ({ ...prev, field1: !field1 })),\n              }}\n              type={field1 ? \"text\" : \"password\"}\n              iconPosition=\"left\"\n              label=\"Mật khẩu hiện tại\"\n              placeholder=\"Current password\"\n              name=\"currentPassword\"\n              onChange={handleChange}\n              value={currentPassword}\n            />\n            <Form.Input\n              fluid\n              icon={{\n                name: \"eye\",\n                circular: true,\n                link: true,\n                onClick: () =>\n                  showTyped((prev) => ({ ...prev, field2: !field2 })),\n              }}\n              type={field2 ? \"text\" : \"password\"}\n              iconPosition=\"left\"\n              label=\"Mật khẩu mới\"\n              placeholder=\"New password\"\n              name=\"newPassword\"\n              onChange={handleChange}\n              value={newPassword}\n            />\n            <Form.Input\n              fluid\n              icon={{\n                name: \"eye\",\n                circular: true,\n                link: true,\n                onClick: () =>\n                  showTyped((prev) => ({ ...prev, field2: !field2 })),\n              }}\n              type={field2 ? \"text\" : \"password\"}\n              iconPosition=\"left\"\n              label=\"Nhập lại mật khẩu\"\n              placeholder=\"Confirm password\"\n              name=\"confirmPassword\"\n              onChange={handleChangeConfirm}\n              value={confirmPassword}\n              error={confirmPassword === newPassword ? false : { content: \"Mật khẩu không trùng nhau\" }}\n            />\n            <Button\n              disabled={loading || currentPassword === \"\" || newPassword === \"\"}\n              compact\n              icon=\"configure\"\n              type=\"submit\"\n              color=\"teal\"\n              content=\"Lưu thay đổi\"\n            />\n            <Button\n              disabled={loading}\n              compact\n              icon=\"cancel\"\n              type=\"button\"\n              content=\"Hủy\"\n              onClick={() => showPasswordFields(false)}\n            />\n            <Message icon=\"meh\" error header=\"Oops!\" content={errorMsg} />\n          </List.Item>\n        </List.List>\n      </Form>\n      <Divider hidden />\n    </>\n  );\n};\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}