{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Admin/Documents/social/social_network/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Admin/Documents/social/social_network/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\social\\\\social_network\\\\components\\\\Notifications\\\\FollowerNotification.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Feed, Button, Divider } from \"semantic-ui-react\";\nimport calculateTime from \"../../utils/calculateTime\";\nimport { followUser, unfollowUser } from \"../../utils/profileActions\";\n\nfunction FollowerNotification(_ref) {\n  _s();\n\n  var notification = _ref.notification,\n      loggedUserFollowStats = _ref.loggedUserFollowStats,\n      setUserFollowStats = _ref.setUserFollowStats;\n\n  var _useState = useState(false),\n      disabled = _useState[0],\n      setDisabled = _useState[1];\n\n  var isFollowing = loggedUserFollowStats.following.length > 0 && loggedUserFollowStats.following.filter(function (following) {\n    return following.user === notification.user._id;\n  }).length > 0;\n  return __jsx(React.Fragment, null, __jsx(Feed.Event, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, __jsx(Feed.Label, {\n    image: notification.user.profilePicUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }), __jsx(Feed.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, __jsx(Feed.Summary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, __jsx(React.Fragment, null, __jsx(Feed.User, {\n    as: \"a\",\n    href: \"/\".concat(notification.user.username),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  }, notification.user.name), \" \", \"\\u0111\\xE3 b\\u1EAFt \\u0111\\u1EA7u theo d\\xF5i b\\u1EA1n.\", __jsx(Feed.Date, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 15\n    }\n  }, calculateTime(notification.date)))), __jsx(\"div\", {\n    style: {\n      position: \"absolute\",\n      right: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    size: \"small\",\n    compact: true,\n    icon: isFollowing ? \"check circle\" : \"add user\",\n    color: isFollowing ? \"instagram\" : \"twitter\",\n    disabled: disabled,\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setDisabled(true);\n\n              if (!isFollowing) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return unfollowUser(notification.user._id, setUserFollowStats);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return followUser(notification.user._id, setUserFollowStats);\n\n            case 8:\n              setDisabled(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  })))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(FollowerNotification, \"5W82NUQ3Xqz75UbGysMcuZnIguI=\");\n\n_c = FollowerNotification;\nexport default FollowerNotification;\n\nvar _c;\n\n$RefreshReg$(_c, \"FollowerNotification\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/social/social_network/components/Notifications/FollowerNotification.js"],"names":["React","useState","Feed","Button","Divider","calculateTime","followUser","unfollowUser","FollowerNotification","notification","loggedUserFollowStats","setUserFollowStats","disabled","setDisabled","isFollowing","following","length","filter","user","_id","profilePicUrl","username","name","date","position","right"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Feed, Button, Divider } from \"semantic-ui-react\";\nimport calculateTime from \"../../utils/calculateTime\";\nimport { followUser, unfollowUser } from \"../../utils/profileActions\";\n\nfunction FollowerNotification({\n  notification,\n  loggedUserFollowStats,\n  setUserFollowStats,\n}) {\n  const [disabled, setDisabled] = useState(false);\n\n  const isFollowing =\n    loggedUserFollowStats.following.length > 0 &&\n    loggedUserFollowStats.following.filter(\n      (following) => following.user === notification.user._id\n    ).length > 0;\n\n  return (\n    <>\n      <Feed.Event>\n        <Feed.Label image={notification.user.profilePicUrl} />\n        <Feed.Content>\n          <Feed.Summary>\n            <>\n              <Feed.User as=\"a\" href={`/${notification.user.username}`}>\n                {notification.user.name}\n              </Feed.User>{\" \"}\n              đã bắt đầu theo dõi bạn.\n              <Feed.Date>{calculateTime(notification.date)}</Feed.Date>\n            </>\n          </Feed.Summary>\n\n          <div style={{ position: \"absolute\", right: \"5px\" }}>\n            <Button\n              size=\"small\"\n              compact\n              icon={isFollowing ? \"check circle\" : \"add user\"}\n              color={isFollowing ? \"instagram\" : \"twitter\"}\n              disabled={disabled}\n              onClick={async () => {\n                setDisabled(true);\n\n                isFollowing\n                  ? await unfollowUser(\n                      notification.user._id,\n                      setUserFollowStats\n                    )\n                  : await followUser(notification.user._id, setUserFollowStats);\n\n                setDisabled(false);\n              }}\n            />\n          </div>\n        </Feed.Content>\n      </Feed.Event>\n      <Divider />\n    </>\n  );\n}\n\nexport default FollowerNotification;\n"]},"metadata":{},"sourceType":"module"}