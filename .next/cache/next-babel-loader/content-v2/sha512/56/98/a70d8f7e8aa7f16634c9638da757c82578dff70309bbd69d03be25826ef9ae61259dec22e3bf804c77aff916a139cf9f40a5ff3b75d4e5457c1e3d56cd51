{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\social\\\\social_network\\\\components\\\\Profile\\\\UpdateProfile.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useRef } from \"react\";\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\nimport { profileUpdate } from \"../../utils/profileActions\";\nimport CommonInputUpdate from \"../Common/CommonInputUpdate\";\n\nfunction UpdateProfile({\n  Profile\n}) {\n  const {\n    0: profile,\n    1: setProfile\n  } = useState({\n    profilePicUrl: Profile.user.profilePicUrl,\n    bio: Profile.bio || \"\",\n    work: Profile.work || \"\",\n    relationship: Profile.relationship || \"\",\n    address: Profile.address || \"\",\n    education: Profile.education || \"\",\n    birthday: Profile.birthday || \"\",\n    facebook: Profile.social && Profile.social.facebook || \"\",\n    youtube: Profile.social && Profile.social.youtube || \"\",\n    instagram: Profile.social && Profile.social.instagram || \"\",\n    twitter: Profile.social && Profile.social.twitter || \"\"\n  });\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: showSocialLinks,\n    1: setShowSocialLinks\n  } = useState(false);\n  const {\n    0: highlighted,\n    1: setHighlighted\n  } = useState(false);\n  const inputRef = useRef();\n  const {\n    0: media,\n    1: setMedia\n  } = useState(null);\n  const {\n    0: mediaPreview,\n    1: setMediaPreview\n  } = useState(null);\n\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n\n    if (name === \"media\") {\n      setMedia(files[0]);\n      setMediaPreview(URL.createObjectURL(files[0]));\n    }\n\n    setProfile(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: value\n    }));\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      paddingBottom: \"25px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(Form, {\n    error: errorMsg !== null,\n    loading: loading,\n    onSubmit: async e => {\n      e.preventDefault();\n      setLoading(true);\n      let profilePicUrl;\n\n      if (media !== null) {\n        profilePicUrl = await uploadPic(media);\n      }\n\n      if (media !== null && !profilePicUrl) {\n        setLoading(false);\n        return setErrorMsg(\"Error Uploading Image\");\n      }\n\n      await profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, __jsx(Message, {\n    onDismiss: () => setErrorMsg(false),\n    error: true,\n    content: errorMsg,\n    attached: true,\n    header: \"Oops!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), __jsx(ImageDropDiv, {\n    inputRef: inputRef,\n    highlighted: highlighted,\n    setHighlighted: setHighlighted,\n    handleChange: handleChange,\n    mediaPreview: mediaPreview,\n    setMediaPreview: setMediaPreview,\n    setMedia: setMedia,\n    profilePicUrl: profile.profilePicUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), __jsx(CommonInputUpdate, {\n    user: profile,\n    handleChange: handleChange,\n    showSocialLinks: showSocialLinks,\n    setShowSocialLinks: setShowSocialLinks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), __jsx(Divider, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), __jsx(Button, {\n    color: \"blue\",\n    icon: \"pencil alternate\",\n    disabled: profile.bio === \"\" || loading,\n    content: \"Submit\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default UpdateProfile;","map":{"version":3,"sources":["C:/Users/Admin/Documents/social/social_network/components/Profile/UpdateProfile.js"],"names":["React","useState","useRef","Form","Button","Message","Divider","ImageDropDiv","uploadPic","profileUpdate","CommonInputUpdate","UpdateProfile","Profile","profile","setProfile","profilePicUrl","user","bio","work","relationship","address","education","birthday","facebook","social","youtube","instagram","twitter","errorMsg","setErrorMsg","loading","setLoading","showSocialLinks","setShowSocialLinks","highlighted","setHighlighted","inputRef","media","setMedia","mediaPreview","setMediaPreview","handleChange","e","name","value","files","target","URL","createObjectURL","prev","paddingBottom","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\nimport { profileUpdate } from \"../../utils/profileActions\";\nimport CommonInputUpdate from \"../Common/CommonInputUpdate\";\n\nfunction UpdateProfile({ Profile }) {\n  const [profile, setProfile] = useState({\n    profilePicUrl: Profile.user.profilePicUrl,\n    bio: Profile.bio || \"\",\n    work: Profile.work || \"\",\n    relationship: Profile.relationship || \"\",\n    address: Profile.address || \"\",\n    education: Profile.education || \"\",\n    birthday: Profile.birthday || \"\",\n    facebook: (Profile.social && Profile.social.facebook) || \"\",\n    youtube: (Profile.social && Profile.social.youtube) || \"\",\n    instagram: (Profile.social && Profile.social.instagram) || \"\",\n    twitter: (Profile.social && Profile.social.twitter) || \"\",\n  });\n\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  const [loading, setLoading] = useState(false);\n  const [showSocialLinks, setShowSocialLinks] = useState(false);\n\n  const [highlighted, setHighlighted] = useState(false);\n  const inputRef = useRef();\n  const [media, setMedia] = useState(null);\n  const [mediaPreview, setMediaPreview] = useState(null);\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n\n    if (name === \"media\") {\n      setMedia(files[0]);\n      setMediaPreview(URL.createObjectURL(files[0]));\n    }\n    setProfile((prev) => ({ ...prev, [name]: value }));\n  };\n\n  return (\n    <div style={{paddingBottom: \"25px\"}}>\n      <Form\n        error={errorMsg !== null}\n        loading={loading}\n        onSubmit={async (e) => {\n          e.preventDefault();\n          setLoading(true);\n\n          let profilePicUrl;\n\n          if (media !== null) {\n            profilePicUrl = await uploadPic(media);\n          }\n\n          if (media !== null && !profilePicUrl) {\n            setLoading(false);\n            return setErrorMsg(\"Error Uploading Image\");\n          }\n\n          await profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\n        }}\n      >\n        <Message\n          onDismiss={() => setErrorMsg(false)}\n          error\n          content={errorMsg}\n          attached\n          header=\"Oops!\"\n        />\n\n        <ImageDropDiv\n          inputRef={inputRef}\n          highlighted={highlighted}\n          setHighlighted={setHighlighted}\n          handleChange={handleChange}\n          mediaPreview={mediaPreview}\n          setMediaPreview={setMediaPreview}\n          setMedia={setMedia}\n          profilePicUrl={profile.profilePicUrl}\n        />\n\n        <CommonInputUpdate\n          user={profile}\n          handleChange={handleChange}\n          showSocialLinks={showSocialLinks}\n          setShowSocialLinks={setShowSocialLinks}\n        />\n\n        <Divider hidden />\n\n        <Button\n          color=\"blue\"\n          icon=\"pencil alternate\"\n          disabled={profile.bio === \"\" || loading}\n          content=\"Submit\"\n          type=\"submit\"\n        />\n      </Form>\n    </div>\n  );\n}\n\nexport default UpdateProfile;\n"]},"metadata":{},"sourceType":"module"}